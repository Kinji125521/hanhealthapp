"use strict";(self.webpackChunkgeek_pc=self.webpackChunkgeek_pc||[]).push([[777],{3777:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(4165),s=n(5861),a=n(9439),c=n(9503),i=n(6199),o=c.ZP;o.Header=c.h4,o.Footer=c.$_,o.Content=c.VY,o.Sider=i.Z;var u=o,h=n(7633),l=n(7689),f=n(1087),d=n(32),p=n(1413),m=n(7363),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},v=n(4291),g=function(e,t){return m.createElement(v.Z,(0,p.Z)((0,p.Z)({},e),{},{ref:t,icon:Z}))};g.displayName="HomeOutlined";var x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},k=function(e,t){return m.createElement(v.Z,(0,p.Z)((0,p.Z)({},e),{},{ref:t,icon:x}))};k.displayName="LogoutOutlined";var w=m.forwardRef(k),y=n(6525),j=n(6949),H=n(7253),b=n(5353),C=n(3263),L=n(184),N=u.Header,S=(u.Sider,(0,d.Pi)((function(){(0,l.TH)().pathname;var e=(0,y.o)(),t=e.loginStore,n=(e.channelStore,(0,m.useState)()),c=(0,a.Z)(n,2),i=c[0],o=c[1],d=(0,H.PR)("user_key"),p=Number((0,b.es)("remember"));(0,m.useEffect)((function(){v()}),[]);var Z=(0,l.s0)(),v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Z.get("https://192.168.11.118:7000/user/profile/".concat(d));case 2:t=e.sent,n=t.data,s=n.data[0].Tel,o(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();f.rU;return(0,L.jsxs)(u,{children:[(0,L.jsxs)(N,{className:"header",children:[(0,L.jsx)("img",{className:"home-logo",src:j,alt:""}),(0,L.jsxs)("div",{className:"user-info",children:[(0,L.jsxs)("span",{className:"user-name",children:["\u6b61\u8fce~",i]}),(0,L.jsx)("span",{className:"user-logout",children:(0,L.jsxs)(h.Z,{title:"\u662f\u5426\u9700\u8981\u9000\u51fa?",okText:"\u9000\u51fa",cancelText:"\u53d6\u6d88",onConfirm:function(){0===p&&((0,H.kX)("user_key"),(0,b.WM)("remember")),(0,b.WM)("remember"),t.logOut(),Z("/login")},children:[(0,L.jsx)(w,{})," \u9000\u51fa"]})})]})]}),(0,L.jsx)(u,{children:(0,L.jsx)(u,{className:"layout-content",style:{padding:20},children:(0,L.jsx)(l.j3,{})})})]})})))},6525:function(e,t,n){n.d(t,{o:function(){return x}});var r=n(3144),s=n(5671),a=n(7363),c=n.n(a),i=n(4165),o=n(5861),u=n(4098),h=n(8881),l=n(3263),f=(0,r.Z)((function e(){var t=this;(0,s.Z)(this,e),this.token=(0,h.LP)()||"",this.login=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var r,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,s=n.tel,e.next=3,l.Z.post("https://192.168.11.118:7000/signin",{id:r,tel:s});case 3:a=e.sent,t.token=a.data.token,(0,h.o4)(t.token);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logOut=function(){t.token="",(0,h.gy)()},(0,u.ky)(this)})),d=f,p=(n(7253),(0,r.Z)((function e(){var t=this;(0,s.Z)(this,e),this.userInfo={},this.getUserInfo=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.tel,e.next=3,l.Z.get("https://192.168.11.118:7000/user/profile");case 3:r=e.sent,t.userInfo=r.data;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(0,u.ky)(this)}))),m=p,Z=(0,r.Z)((function e(){var t=this;(0,s.Z)(this,e),this.channelList=[],this.loadChannelList=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.dJ.get("/channels");case 2:n=e.sent,t.channelList=n.data.channels;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)})),v=new((0,r.Z)((function e(){(0,s.Z)(this,e),this.loginStore=new d,this.userStore=new m,this.channelStore=new Z}))),g=c().createContext(v),x=function(){return c().useContext(g)}},6949:function(e,t,n){e.exports=n.p+"static/media/logo.5c952a4a295eab887d56.png"}}]);
//# sourceMappingURL=777.a4912ef2.chunk.js.map